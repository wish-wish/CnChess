{"version":3,"sources":["file:///D:/Coding/Creator/CnChess2/assets/scripts/Chess/Qipu.ts"],"names":["_decorator","Component","Utils","ccclass","property","Qipu","start","update","deltaTime","parse","steps","step","split","i","length","idx","pieces","dirs","vertidxs","idxpiece","indexOf","idxp","redchs","dir","vertidx","pics","x","y","blackchs"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,K,iBAAAA,K;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;sBAGjBK,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BJ,SAD1B,CACoC;AAChCK,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEkB,eAALC,KAAK,CAACC,KAAD,EACnB;AACI,cAAIC,IAAa,GAACD,KAAK,CAACE,KAAN,CAAY,EAAZ,CAAlB;;AACA,eAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,IAAI,CAACG,MAAnB,EAA0BD,CAAC,EAA3B,EACA;AACI,gBAAIE,GAAG,GAACF,CAAR;AACA,gBAAIG,MAAM,GAAC,kBAAX;AACA,gBAAIC,IAAI,GAAC,MAAT;AACA,gBAAIC,QAAQ,GAAC,oBAAb,CAJJ,CAKI;AACA;;AACA,gBAAIC,QAAQ,GAACH,MAAM,CAACI,OAAP,CAAeT,IAAI,CAACI,GAAD,CAAnB,CAAb;AACA,gBAAIM,IAAI,GAACF,QAAQ,GAAC;AAAA;AAAA,gCAAMG,MAAN,CAAaR,MAA/B;AACA,gBAAIS,GAAG,GAACN,IAAI,CAACG,OAAL,CAAaT,IAAI,CAACI,GAAD,CAAjB,IAAwB,CAAhC;AACA,gBAAIS,OAAO,GAACN,QAAQ,CAACE,OAAT,CAAiBT,IAAI,CAACI,GAAD,CAArB,CAAZ;AACA,gBAAIU,IAAI,GAAC,EAAT;AACA,gBAAIC,CAAC,GAAC,CAAN;AAAA,gBAAQC,CAAC,GAAC,CAAV;;AACA,gBAAGR,QAAQ,GAAC,EAAZ,EAAe;AACXE,cAAAA,IAAI,GAAC,CAAL;AACH;;AACD,gBAAGG,OAAO,GAAC,CAAX,EACA;AACIC,cAAAA,IAAI,GAAC;AAAA;AAAA,kCAAMH,MAAN,CAAaD,IAAb,CAAL;AACH,aAHD,MAKA;AACII,cAAAA,IAAI,GAAC;AAAA;AAAA,kCAAMG,QAAN,CAAeP,IAAf,CAAL;AACH;;AACD,gBAAGE,GAAG,IAAE,CAAR,EACA;AACI;AACAI,cAAAA,CAAC,GAACA,CAAC,IAAEH,OAAO,GAAC,CAAR,GAAU,CAAZ,CAAH;AACH,aAJD,MAKK,IAAGD,GAAG,IAAE,CAAR,EACL,CACI;AACH,aAHI,MAKL,CACI;AACH;AACJ;AACJ;;AAnD+B,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { Utils } from '../Utils';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Qipu')\nexport class Qipu extends Component {\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    public static parse(steps:string)\n    {\n        let step:string[]=steps.split('');\n        for(let i=0;i<step.length;i++)\n        {\n            let idx=i;\n            let pieces=\"车马跑象士将兵車馬炮相仕帥卒帅將\";\n            let dirs=\"进退平進\";\n            let vertidxs=\"九八七六五四三二一987654321\";\n            //let fbs=\"前后\";\n            //let fb=fbs.indexOf(step[idx]);\n            let idxpiece=pieces.indexOf(step[idx]);\n            let idxp=idxpiece%Utils.redchs.length;\n            let dir=dirs.indexOf(step[idx])%3;            \n            let vertidx=vertidxs.indexOf(step[idx]);      \n            let pics=\"\";\n            let x=0,y=0;\n            if(idxpiece>13){\n                idxp=5;\n            }\n            if(vertidx>8)\n            {\n                pics=Utils.redchs[idxp];\n            }\n            else\n            {\n                pics=Utils.blackchs[idxp];\n            }\n            if(dir==0)\n            {\n                //...\n                y=y+(vertidx%9+1);\n            }\n            else if(dir==1)\n            {\n                //...\n            }\n            else\n            {\n                //...\n            }\n        }        \n    }\n}\n\n"]}